{% extends "base.html" %}

{% block content %}
<div class="p-4">
  <h2 class="text-2xl font-bold mb-4">{{ report_name }} History</h2>

  <div class="overflow-auto bg-white rounded-xl shadow">
    {{ table_html|safe }}
  </div>

  <div class="mt-6">
    <a href="{{ url_for('reports_bp.reports_home') }}"
       class="inline-block px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition">
       ← Back to Reports
    </a>
  </div>
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    $(function(){
      $('#history-table')
        .addClass('display')   // DataTables styling hook
        .DataTable({
          paging:       true,
          pageLength:   25,
          lengthChange: false,
          ordering:     true,
          info:         false,
          autoWidth:    false,
          dom:          '<"flex justify-between items-center mb-2"<"text-sm">f>rt<"mt-2"p>',
          language: {
            search: ""    // Remove default "Search:" label
          }
        })
        // move the auto-generated search box into the top-right
        .container()
        .find('div.dataTables_filter input')
        .addClass('px-3 py-2 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-figurella')
        .attr('placeholder','Type to search…');
    });
  </script>
{% endblock %}
