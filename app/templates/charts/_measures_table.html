{# templates/charts/_measures_table.html #}
{% set measures = ['Chest','Torso','Waist','Abdo.','Hips','Thighs','Knees','Calves','Arms'] %}

<!-- translucent Figurella‑pink zebra striping -->
<style>
  .zebra-pink tbody tr:nth-child(even) {
    background-color: rgba(204, 0, 102, 0.1);
  }
  /* make the header stick at top when scrolling horizontally */
  .sticky-header th {
    position: sticky;
    top: 0;
    background: #f9fafb;
    z-index: 10;
  }
</style>

<div class="flex flex-col gap-8 overflow-x-auto">

  <!-- ===== Workout Session Grid (1–20) ===== -->
  <table class="min-w-full border-collapse border text-sm zebra-pink mb-6">
    <thead class="bg-gray-100 text-center text-xs font-semibold uppercase sticky-header">
      <tr>
        <th class="border px-2 py-1">#</th>
        {% for i in range(1,21) %}
        <th class="border px-2 py-1{% if i in [10,20] %} border-l-2 border-gray-300{% endif %}">{{ i }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% set rows = ['DATE','FA','Freq.','Reps','STEP','NC','Weight','Notes'] %}
      {% for row in rows %}
      <tr class="text-left">
        <th class="border px-2 py-1 text-xs font-medium">{{ row }}</th>
        {% if row == 'Notes' %}
          <td colspan="20" class="border px-2 py-1" contenteditable="true">&nbsp;</td>
        {% else %}
          {% for _ in range(20) %}
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          {% endfor %}
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- ===== Existing Measures Display ===== -->
  <div class="flex flex-col md:flex-row gap-6">

    <!-- First Table -->
    <table class="min-w-[240px] border-collapse border text-sm zebra-pink">
      <thead class="bg-gray-100 text-center text-xs font-semibold uppercase">
        <tr>
          <th colspan="2" class="border px-2 py-1">H.<br>INITIAL M.</th>
          <th class="border px-2 py-1">FA</th>
          <th class="border px-2 py-1">DATE</th>
          <th class="border px-2 py-1">LB</th>
          <th colspan="2" class="border px-2 py-1">H</th>
          <th class="border px-2 py-1"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="2" class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td colspan="2" class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
        </tr>
        {% for m in measures %}
        {% set idx = loop.index0 %}
        <tr>
          {% if idx >= 5 %}
            <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
            <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          {% else %}
            <td colspan="2" class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          {% endif %}
          <td class="border px-2 py-1">{{ m }}</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td colspan="2" class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1 text-xs text-center font-semibold uppercase">
            {% if m == 'Calves' %}LOST{% elif m == 'Arms' %}TOT{% else %}&nbsp;{% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Second & Third Tables -->
    {% for t in [2, 3] %}
    <table class="min-w-[220px] border-collapse border text-sm zebra-pink">
      <thead class="bg-gray-100 text-center text-xs font-semibold uppercase">
        <tr>
          <th class="border px-2 py-1">FA</th>
          <th class="border px-2 py-1">DATE</th>
          <th class="border px-2 py-1">LB</th>
          <th class="border px-2 py-1"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
        </tr>
        {% for m in measures %}
        <tr>
          <td class="border px-2 py-1">{{ m }}</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1" contenteditable="true">&nbsp;</td>
          <td class="border px-2 py-1 text-xs text-center font-semibold uppercase">
            {% if m == 'Calves' %}LOST{% elif m == 'Arms' %}TOT{% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endfor %}

  </div>
</div>
